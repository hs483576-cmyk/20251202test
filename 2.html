<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¤ç‰©çš„é‹è¼¸ - è–å…§ç¶­ç®¡æŸçš„æ’åˆ—</title>
    <style>
        :root {
            --primary-green: #2e7d32;
            --highlight-blue: #1565c0; /* æ§‹é€ ã€æ’åˆ— */
            --highlight-orange: #ef6c00; /* ç”Ÿé•·ã€æ–¹å‘ */
            --highlight-plant: #2e7d32; /* æ¤ç‰©å */
            --correct-bg: #d1e7dd;
            --correct-border: #0f5132;
            --incorrect-bg: #f8d7da;
            --incorrect-border: #842029;
            --bg-color: #f4f7f6;
        }

        body {
            font-family: "Microsoft JhengHei", "Heiti TC", sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #fff;
            min-height: 100vh;
            box-shadow: 0 0 15px rgba(0,0,0,0.05);
        }

        header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
            margin-bottom: 30px;
        }

        h1 { color: var(--primary-green); margin-bottom: 5px; }
        
        /* å…§å®¹å€å¡Šæ¨£å¼ï¼šåœ–æ–‡ä¸¦æ’ */
        .content-row {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 40px;
            background: #fafafa;
            padding: 20px;
            border-radius: 12px;
        }

        /* æ‰‹æ©Ÿç‰ˆè‡ªå‹•è½‰ç‚ºå‚ç›´æ’åˆ— */
        @media (max-width: 768px) {
            .content-row {
                flex-direction: column;
            }
        }

        .text-col { flex: 1; font-size: 1.1rem; text-align: justify; }
        .img-col { flex: 0 0 40%; max-width: 400px; display: flex; flex-direction: column; align-items: center; }
        
        .img-col img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            border: 1px solid #ddd;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .img-caption { font-size: 0.9rem; color: #666; margin-top: 8px; }

        /* é—œéµå­—é¡è‰² */
        .kw-blue { color: var(--highlight-blue); font-weight: bold; background: #e3f2fd; padding: 0 2px; border-radius: 3px; }
        .kw-orange { color: var(--highlight-orange); font-weight: bold; background: #fff3e0; padding: 0 2px; border-radius: 3px; }
        .kw-plant { color: var(--highlight-plant); font-weight: bold; border-bottom: 2px solid #a5d6a7; }

        /* é¡Œç›®å€å¡Š */
        .quiz-section { margin-top: 50px; padding-top: 20px; border-top: 2px dashed #ccc; }
        .quiz-header { text-align: center; color: var(--primary-green); margin-bottom: 30px; }

        .question-card {
            background: #fff;
            border: 1px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 25px;
            transition: all 0.3s ease;
        }

        .question-card.correct { background-color: var(--correct-bg); border-color: var(--correct-border); }
        .question-card.incorrect { background-color: var(--incorrect-bg); border-color: var(--incorrect-border); }

        .q-title { font-weight: bold; margin-bottom: 15px; font-size: 1.1rem; }
        
        .options label {
            display: block; margin-bottom: 10px; cursor: pointer; padding: 10px; border-radius: 5px; border: 1px solid transparent;
        }
        .options label:hover { background-color: #f0f0f0; }
        .options input { margin-right: 10px; }

        select { padding: 5px 10px; font-size: 1rem; border-radius: 5px; border: 1px solid #ccc; margin: 0 5px; }

        /* æŒ‰éˆ•ç³»çµ± */
        .btn {
            padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-size: 1rem; margin-top: 10px; transition: 0.3s;
        }
        .btn-check { background-color: var(--primary-green); color: white; }
        .btn-check:disabled { background-color: #bdbdbd; cursor: not-allowed; }
        .btn-retry { background-color: #d32f2f; color: white; display: none; }
        
        .feedback { margin-top: 15px; font-weight: bold; display: none; padding: 10px; border-radius: 5px; }

        /* å°è¦½åˆ— */
        .nav-footer { display: flex; justify-content: space-between; margin-top: 50px; padding-top: 20px; border-top: 1px solid #eee; }
        .nav-btn { padding: 12px 25px; text-decoration: none; color: white; border-radius: 30px; font-weight: bold; transition: 0.3s; }
        .nav-prev { background-color: #757575; }
        .nav-prev:hover { background-color: #616161; }
        .nav-next { background-color: var(--primary-green); }
        .nav-next.disabled { background-color: #bdbdbd; pointer-events: none; }
        .nav-next:not(.disabled):hover { background-color: #1b5e20; box-shadow: 0 4px 12px rgba(46, 125, 50, 0.3); transform: translateY(-2px); }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>æ¤ç‰©çš„é‹è¼¸æ¢ç´¢ä¹‹æ—…</h1>
        <p>å­¸ç¿’é é¢ï¼šè–å…§ç¶­ç®¡æŸçš„æ’åˆ—</p>
    </header>

    <section class="content-row">
        <div class="text-col">
            <h2 style="margin-top:0; color:var(--primary-green);">1. ç’°ç‹€æ’åˆ—èˆ‡å½¢æˆå±¤</h2>
            <p>
                ä¸åŒçš„æ¤ç‰©ï¼Œè–å…§ç¶­ç®¡æŸçš„æ’åˆ—æ–¹å¼ä¹Ÿä¸åŒï¼Œä¾‹å¦‚ <span class="kw-plant">å‘æ—¥è‘µ</span> èˆ‡ <span class="kw-plant">æ¦•æ¨¹</span> ç­‰æ¤ç‰©ï¼Œå…¶è–å…§ç¶­ç®¡æŸå‘ˆ <span class="kw-blue">ç’°ç‹€æ’åˆ—</span>ï¼Œä¸”éŸŒçš®éƒ¨èˆ‡æœ¨è³ªéƒ¨ä¹‹é–“é‚„æœ‰ <span class="kw-blue">å½¢æˆå±¤</span>ã€‚
            </p>
        </div>
        <div class="img-col">
            <img src="2_1.png" alt="ç’°ç‹€æ’åˆ—ç¶­ç®¡æŸç¤ºæ„åœ–">
            <div class="img-caption">åœ–ä¸€ï¼šç’°ç‹€æ’åˆ— (é›™å­è‘‰æ¤ç‰©)</div>
        </div>
    </section>

    <section class="content-row">
        <div class="img-col">
            <img src="2_2.png" alt="æ•£ç”Ÿæ’åˆ—èˆ‡å½¢æˆå±¤åŠŸèƒ½ç¤ºæ„åœ–">
            <div class="img-caption">åœ–äºŒï¼šæ•£ç”Ÿæ’åˆ— (å–®å­è‘‰æ¤ç‰©)</div>
        </div>
        <div class="text-col">
            <h2 style="margin-top:0; color:var(--primary-green);">2. è–çš„åŠ ç²—èˆ‡æ•£ç”Ÿæ’åˆ—</h2>
            <p>
                <span class="kw-blue">å½¢æˆå±¤</span> å¯ä»¥é€²è¡Œ <span class="kw-orange">ç´°èƒåˆ†è£‚</span>ï¼Œ<span class="kw-orange">å‘å¤–å¢ç”Ÿæ–°çš„éŸŒçš®éƒ¨</span> ç´°èƒï¼Œ<span class="kw-orange">å‘å…§å¢ç”Ÿæ–°çš„æœ¨è³ªéƒ¨</span> ç´°èƒï¼Œä½¿è–ä¸æ–· <span class="kw-orange">åŠ ç²—ç”Ÿé•·</span>ã€‚<span class="kw-plant">ç‰ç±³</span> èˆ‡ <span class="kw-plant">æ°´ç¨»</span> ç­‰æ¤ç‰©ï¼Œå…¶è–å…§ç¶­ç®¡æŸå‘ˆ <span class="kw-blue">æ•£ç”Ÿæ’åˆ—</span>ï¼Œé€šå¸¸ <span class="kw-blue">ä¸å…·å½¢æˆå±¤</span>ã€‚
            </p>
        </div>
    </section>

    <section class="quiz-section">
        <div class="quiz-header">
            <h3>ğŸ§  è§€å¿µæŒ‘æˆ°ç«™</h3>
            <p>è«‹å®Œæˆä»¥ä¸‹ 4 é¡Œï¼Œå…¨å°å³å¯è§£é–ä¸‹ä¸€é—œï¼</p>
        </div>

        <div class="question-card" id="q1">
            <div class="q-title">1. ä¸‹åˆ—å“ªä¸€ç¨®æ¤ç‰©çš„è–å…§ç¶­ç®¡æŸå‘ˆç¾ã€Œç’°ç‹€æ’åˆ—ã€ï¼Œä¸”å…·æœ‰å½¢æˆå±¤ï¼Ÿ</div>
            <div class="options">
                <label><input type="radio" name="q1" value="A" onchange="enableCheck('btn-q1')"> A. ç‰ç±³</label>
                <label><input type="radio" name="q1" value="B" onchange="enableCheck('btn-q1')"> B. æ°´ç¨»</label>
                <label><input type="radio" name="q1" value="C" onchange="enableCheck('btn-q1')"> C. å‘æ—¥è‘µ</label>
            </div>
            <button class="btn btn-check" id="btn-q1" onclick="checkRadio('q1', 'C')" disabled>æª¢æŸ¥ç­”æ¡ˆ</button>
            <button class="btn btn-retry" id="retry-q1" onclick="retryQuestion('q1')">é‡åšæœ¬é¡Œ</button>
            <div class="feedback" id="fb-q1"></div>
        </div>

        <div class="question-card" id="q2">
            <div class="q-title">
                2. é—œæ–¼å½¢æˆå±¤çš„æ´»å‹•ï¼Œè«‹é¸å‡ºæ­£ç¢ºçš„æ–¹å‘ï¼š<br>
                å½¢æˆå±¤ç´°èƒåˆ†è£‚æ™‚ï¼Œæœƒå‘å…§å¢ç”Ÿæ–°çš„ 
                <select id="q2-select-1" onchange="enableCheck('btn-q2')">
                    <option value="">(è«‹é¸æ“‡)</option>
                    <option value="X">æœ¨è³ªéƒ¨</option>
                    <option value="P">éŸŒçš®éƒ¨</option>
                </select>
                ï¼Œå‘å¤–å¢ç”Ÿæ–°çš„
                <select id="q2-select-2" onchange="enableCheck('btn-q2')">
                    <option value="">(è«‹é¸æ“‡)</option>
                    <option value="X">æœ¨è³ªéƒ¨</option>
                    <option value="P">éŸŒçš®éƒ¨</option>
                </select>ã€‚
            </div>
            <button class="btn btn-check" id="btn-q2" onclick="checkSelects('q2', 'X', 'P')" disabled>æª¢æŸ¥ç­”æ¡ˆ</button>
            <button class="btn btn-retry" id="retry-q2" onclick="retryQuestion('q2')">é‡åšæœ¬é¡Œ</button>
            <div class="feedback" id="fb-q2"></div>
        </div>

        <div class="question-card" id="q3">
            <div class="q-title">3. (æ˜¯éé¡Œ) è‹¥è§€å¯Ÿåˆ°æŸæ¤ç‰©çš„è–å…§ç¶­ç®¡æŸå‘ˆç¾ã€Œæ•£ç”Ÿæ’åˆ—ã€ï¼Œæˆ‘å€‘å¯ä»¥æ¨æ¸¬è©²æ¤ç‰©é€šå¸¸å…·æœ‰å½¢æˆå±¤ï¼Œå¯ä»¥ä¸æ–·åŠ ç²—ã€‚</div>
            <div class="options">
                <label><input type="radio" name="q3" value="T" onchange="enableCheck('btn-q3')"> O (æ­£ç¢º)</label>
                <label><input type="radio" name="q3" value="F" onchange="enableCheck('btn-q3')"> X (éŒ¯èª¤)</label>
            </div>
            <button class="btn btn-check" id="btn-q3" onclick="checkRadio('q3', 'F')" disabled>æª¢æŸ¥ç­”æ¡ˆ</button>
            <button class="btn btn-retry" id="retry-q3" onclick="retryQuestion('q3')">é‡åšæœ¬é¡Œ</button>
            <div class="feedback" id="fb-q3"></div>
        </div>

        <div class="question-card" id="q4">
            <div class="q-title">4. å°æ˜åœ¨æ ¡åœ’è£¡çœ‹åˆ°ä¸€æ£µå¾ˆç²—å£¯çš„è€æ¦•æ¨¹ï¼Œèˆ‡æ—é‚Šç´°ç´°çš„ç«¹å­ï¼ˆé¡ä¼¼æ°´ç¨»çµæ§‹ï¼‰ã€‚è«‹å•è€æ¦•æ¨¹ä¹‹æ‰€ä»¥èƒ½é•·å¾—é€™éº¼ç²—ï¼Œæ˜¯å› ç‚ºå…·æœ‰ä»€éº¼æ§‹é€ ï¼Ÿ</div>
            <div class="options">
                <label><input type="radio" name="q4" value="A" onchange="enableCheck('btn-q4')"> A. å½¢æˆå±¤</label>
                <label><input type="radio" name="q4" value="B" onchange="enableCheck('btn-q4')"> B. æ•£ç”Ÿç¶­ç®¡æŸ</label>
                <label><input type="radio" name="q4" value="C" onchange="enableCheck('btn-q4')"> C. æ°£å­”</label>
            </div>
            <button class="btn btn-check" id="btn-q4" onclick="checkRadio('q4', 'A')" disabled>æª¢æŸ¥ç­”æ¡ˆ</button>
            <button class="btn btn-retry" id="retry-q4" onclick="retryQuestion('q4')">é‡åšæœ¬é¡Œ</button>
            <div class="feedback" id="fb-q4"></div>
        </div>

    </section>

    <footer class="nav-footer">
        <a href="1.html" class="nav-btn nav-prev">â† ä¸Šä¸€é </a>
        <a href="./3.html" id="next-link" class="nav-btn nav-next disabled" onclick="if(this.classList.contains('disabled')) return false;">ä¸‹ä¸€é  â†’</a>
    </footer>
</div>

<script>
    // ç­”é¡Œç‹€æ…‹è¿½è¹¤
    const quizStatus = {
        q1: false,
        q2: false,
        q3: false,
        q4: false
    };

    // å•Ÿç”¨æª¢æŸ¥æŒ‰éˆ•
    function enableCheck(btnId) {
        document.getElementById(btnId).disabled = false;
    }

    // æ›´æ–°ä¸‹ä¸€é æŒ‰éˆ•ç‹€æ…‹
    function updateNextButton() {
        const allCorrect = Object.values(quizStatus).every(status => status === true);
        const nextBtn = document.getElementById('next-link');
        
        if (allCorrect) {
            nextBtn.classList.remove('disabled');
            nextBtn.innerHTML = "ä¸‹ä¸€é  â†’ (å·²è§£é–)";
        } else {
            nextBtn.classList.add('disabled');
            nextBtn.innerHTML = "ä¸‹ä¸€é  â†’ (è«‹å®Œæˆç·´ç¿’)";
        }
    }

    // é¡¯ç¤ºå›é¥‹èˆ‡æ¨£å¼
    function showFeedback(qId, isCorrect, correctMsg, errorMsg) {
        const card = document.getElementById(qId);
        const fb = document.getElementById('fb-' + qId);
        const checkBtn = document.getElementById('btn-' + qId);
        const retryBtn = document.getElementById('retry-' + qId);

        if (isCorrect) {
            card.classList.add('correct');
            card.classList.remove('incorrect');
            fb.style.display = 'block';
            fb.style.color = '#0f5132';
            fb.style.backgroundColor = '#d1e7dd';
            fb.textContent = "ğŸ‰ " + correctMsg;
            
            checkBtn.style.display = 'none';
            retryBtn.style.display = 'none';
            
            // é–å®šè©²é¡Œæ‰€æœ‰è¼¸å…¥
            disableInputs(qId, true);
            quizStatus[qId] = true;
        } else {
            card.classList.add('incorrect');
            card.classList.remove('correct');
            fb.style.display = 'block';
            fb.style.color = '#842029';
            fb.style.backgroundColor = '#f8d7da';
            fb.textContent = "âŒ " + errorMsg;
            
            checkBtn.style.display = 'none';
            retryBtn.style.display = 'inline-block';
            
            disableInputs(qId, true);
            quizStatus[qId] = false;
        }
        updateNextButton();
    }

    // æª¢æŸ¥å–®é¸/æ˜¯éé¡Œ
    function checkRadio(qId, correctVal) {
        const radios = document.getElementsByName(qId);
        let userVal = null;
        for (let r of radios) {
            if (r.checked) {
                userVal = r.value;
                break;
            }
        }
        
        let correctMsg = "ç­”å°äº†ï¼";
        let errorMsg = "ç­”æ¡ˆä¸å°å–”ï¼Œè«‹å†çœ‹ä¸€æ¬¡æ–‡ç« å…§å®¹ã€‚";

        if (qId === 'q1') correctMsg = "æ­£ç¢ºï¼å‘æ—¥è‘µæ˜¯é›™å­è‘‰æ¤ç‰©ï¼Œç¶­ç®¡æŸå‘ˆç’°ç‹€æ’åˆ—ã€‚";
        if (qId === 'q3') errorMsg = "æ³¨æ„ï¼šæ•£ç”Ÿæ’åˆ—é€šå¸¸æ˜¯ã€Œå–®å­è‘‰æ¤ç‰©ã€(å¦‚ç‰ç±³)ï¼Œé€šå¸¸ã€Œä¸å…·ã€å½¢æˆå±¤å–”ï¼";
        if (qId === 'q4') correctMsg = "æ²’éŒ¯ï¼å½¢æˆå±¤èƒ½é€²è¡Œç´°èƒåˆ†è£‚ä½¿è–åŠ ç²—ã€‚";

        showFeedback(qId, (userVal === correctVal), correctMsg, errorMsg);
    }

    // æª¢æŸ¥é›™é‡ä¸‹æ‹‰é¸å–® (ç¬¬2é¡Œ)
    function checkSelects(qId, ans1, ans2) {
        const s1 = document.getElementById(qId + '-select-1').value;
        const s2 = document.getElementById(qId + '-select-2').value;
        
        const isCorrect = (s1 === ans1 && s2 === ans2);
        const correctMsg = "å®Œå…¨æ­£ç¢ºï¼å…§æœ¨å¤–éŸŒï¼Œå½¢æˆå±¤å¤¾åœ¨ä¸­é–“å‘å…©å´å¢ç”Ÿã€‚";
        const errorMsg = "é †åºéŒ¯å›‰ï¼è¨˜ä½å£è¨£ï¼šæœ¨è³ªéƒ¨åœ¨å…§å´ï¼ŒéŸŒçš®éƒ¨åœ¨å¤–å´ã€‚";

        showFeedback(qId, isCorrect, correctMsg, errorMsg);
    }

    // é‡åšé¡Œç›®
    function retryQuestion(qId) {
        const card = document.getElementById(qId);
        const fb = document.getElementById('fb-' + qId);
        const checkBtn = document.getElementById('btn-' + qId);
        const retryBtn = document.getElementById('retry-' + qId);
        
        card.classList.remove('correct', 'incorrect');
        fb.style.display = 'none';
        
        retryBtn.style.display = 'none';
        checkBtn.style.display = 'inline-block';
        checkBtn.disabled = true; // é‡ç½®ç‚ºä¸å¯é»æ“Š
        
        // è§£é–è¼¸å…¥ä¸¦æ¸…ç©º
        if (qId === 'q2') {
            document.getElementById('q2-select-1').disabled = false;
            document.getElementById('q2-select-1').value = "";
            document.getElementById('q2-select-2').disabled = false;
            document.getElementById('q2-select-2').value = "";
        } else {
            const radios = document.getElementsByName(qId);
            for (let r of radios) {
                r.disabled = false;
                r.checked = false;
            }
        }
        
        quizStatus[qId] = false;
        updateNextButton();
    }

    function disableInputs(qId, disabled) {
        if (qId === 'q2') {
            document.getElementById('q2-select-1').disabled = disabled;
            document.getElementById('q2-select-2').disabled = disabled;
        } else {
            const radios = document.getElementsByName(qId);
            for (let r of radios) r.disabled = disabled;
        }
    }
</script>

</body>
</html>